<!DOCTYPE html>
<html>
    <head>
        <meta name="mainpage" content="initial-scale=1, width=device-width">
        <link href="style.css" rel="stylesheet">
        <script>
            function cursorIsNearButton(event) {
                let buttonCoordinates = document.querySelector('.button-class').getBoundingClientRect();
                let containerCoordinates = document.querySelector('.container').getBoundingClientRect();
                let buttonXCoordinates = buttonCoordinates.left;
                let buttonYCoordinates = buttonCoordinates.top;
                let buttonLengthYCoordinates = buttonCoordinates.top + buttonCoordinates.height;
                let buttonWidthXCoordinates = buttonCoordinates.left + buttonCoordinates.width;
                let mouseXPosition = event.clientX;
                let mouseYPosition = event.clientY;
                let mouseIsNearButtonLowerLeft = mouseXPosition > (buttonCoordinates.left - 25) && mouseYPosition < (buttonLengthYCoordinates + 25) &&
                                                 !(mouseXPosition > (buttonWidthXCoordinates - ((buttonWidthXCoordinates - buttonCoordinates.left) / 2))) &&
                                                 !(mouseYPosition < (buttonLengthYCoordinates - ((buttonLengthYCoordinates - buttonCoordinates.top) / 2)));
                                                

                let mouseIsNearButtonLowerRight = mouseXPosition < (buttonWidthXCoordinates + 25) && mouseYPosition < (buttonLengthYCoordinates + 25) &&
                                                 !(mouseXPosition < (buttonWidthXCoordinates - ((buttonWidthXCoordinates - buttonCoordinates.left) / 2))) &&
                                                 !(mouseYPosition < (buttonLengthYCoordinates - ((buttonLengthYCoordinates - buttonCoordinates.top) / 2)));
                
                let mouseIsNearButtonUpperLeft = mouseXPosition > (buttonCoordinates.left - 25) && mouseYPosition > (buttonCoordinates.top - 25) &&
                                                 !(mouseXPosition > (buttonWidthXCoordinates - ((buttonWidthXCoordinates - buttonCoordinates.left) / 2))) &&
                                                 !(mouseYPosition > (buttonLengthYCoordinates - ((buttonLengthYCoordinates - buttonCoordinates.top) / 2)));

                let mouseIsNearButtonUpperRight = mouseXPosition < (buttonWidthXCoordinates + 25) && mouseYPosition > (buttonCoordinates.top - 25) &&
                                                 !(mouseXPosition < (buttonWidthXCoordinates - ((buttonWidthXCoordinates - buttonCoordinates.left) / 2))) &&
                                                 !((mouseYPosition > (buttonLengthYCoordinates - ((buttonLengthYCoordinates - buttonCoordinates.top) / 2))));
                
                let buttonTouchesMargin = buttonLengthYCoordinates >= containerCoordinates.height || buttonXCoordinates < containerCoordinates.left || buttonWidthXCoordinates > containerCoordinates.width ||
                                          buttonYCoordinates < containerCoordinates.top;

                if (buttonTouchesMargin) {
                    document.getElementById('button-to-be-chased').style.position = "fixed";

                    return;
                }
                else if (mouseIsNearButtonLowerLeft) {
                    let computedXCoordinates = buttonXCoordinates + 35;
                    let computedYCoordinates = buttonYCoordinates - 35;
                    let coordinateXNumberToString = computedXCoordinates.toString();
                    let coordinateYNumberToString = computedYCoordinates.toString();
                    let joinedStringForX = coordinateXNumberToString + "px";
                    let joinedStringForY = coordinateYNumberToString + "px";
                    document.getElementById('button-div').style.left = joinedStringForX;
                    document.getElementById('button-div').style.top = joinedStringForY;
                    
                    return;
                } 
                else if (mouseIsNearButtonLowerRight) {
                    let computedXCoordinates = buttonXCoordinates - 35;
                    let computedYCoordinates = buttonYCoordinates - 35;
                    let coordinateXNumberToString = computedXCoordinates.toString();
                    let coordinateYNumberToString = computedYCoordinates.toString();
                    let joinedStringForX = coordinateXNumberToString + "px";
                    let joinedStringForY = coordinateYNumberToString + "px";
                    document.getElementById('button-div').style.left = joinedStringForX;
                    document.getElementById('button-div').style.top = joinedStringForY;

                    return;
                }
                else if (mouseIsNearButtonUpperLeft) {
                    let computedXCoordinates = buttonXCoordinates + 35;
                    let computedYCoordinates = buttonYCoordinates + 35;
                    let coordinateXNumberToString = computedXCoordinates.toString();
                    let coordinateYNumberToString = computedYCoordinates.toString();
                    let joinedStringForX = coordinateXNumberToString + "px";
                    let joinedStringForY = coordinateYNumberToString + "px";
                    document.getElementById('button-div').style.left = joinedStringForX;
                    document.getElementById('button-div').style.top = joinedStringForY;

                    return;
                }
                else if (mouseIsNearButtonUpperRight) {
                    let computedXCoordinates = buttonXCoordinates - 35;
                    let computedYCoordinates = buttonYCoordinates + 35;
                    let coordinateXNumberToString = computedXCoordinates.toString();
                    let coordinateYNumberToString = computedYCoordinates.toString();
                    let joinedStringForX = coordinateXNumberToString + "px";
                    let joinedStringForY = coordinateYNumberToString + "px";
                    document.getElementById('button-div').style.left = joinedStringForX;
                    document.getElementById('button-div').style.top = joinedStringForY;

                    return;
                }
            }

            function youCanIndeedClickTheButtonOhMyGod() {
                document.getElementById('button-div').style.left = "50%";
                document.getElementById('button-div').style.top = "50%";

                return;
            }
        </script>
        <title>Button Chaser Volume 1</title>
    </head>
    <body>
        <div id="canvas" onmousemove="cursorIsNearButton(event)" class="container">
            <div id="button-div"  class="button-class">
                <button id="button-to-be-chased" onmouseover="youCanIndeedClickTheButtonOhMyGod()">Chase me >:3</button>
                <p id="demo"></p>
            </div>
        </div>
    </body>
</html>
